<div class=" row edit-title">
<h3>{{data}} an attraction </h3>
</div>

<div class="row">
    <div class="col-md-6 edit-form">
        <select class="form-control" id="edit-attraction-city">
            <option selected disabled value="notChosen">Choose a city</option>
            <option value="1">Tokyo</option>
            <option value="2">Osaka</option>
            <option value="3">Fukuoka</option>
            <option value="4">Hiroshima</option>
        </select>
        <div id="city-error-message"></div>

        <select class="form-control" id="edit-attraction-type">
            <option selected disabled value="notChosen">Choose a type</option>
            <option value="go">Tourist attraction</option>
            <option value="restaurant">Restaurant</option>
            <option value="shop">Shop</option>
        </select>
         <div id="type-error-message"></div>

        <input type="text" class="form-control" id="edit-attraction-name" placeholder="Attraction name">
        <div id="name-error-message"></div>
        
        <textarea class="form-control" id="edit-attraction-description" rows="3" placeholder="Describe the attraction"></textarea>
    </div>
    
    <div class="col-md-6 edit-form edit-form-right">
        Upload a photo
        <div id="edit-form-right">
            
            <input type="file" class="form-control-file" id="edit-attraction-photo">
        </div>
        
    </div>

</div>

<div class="d-flex justify-content-center">
    <button class="btn-lg btn-primary" id="submit-attraction" onClick="user{{data}}()" >Submit  <i class="fas fa-paper-plane"></i></button>
</div>

<script>
    let userId=1;

    function userAdd(){
       

        
        console.log("222",$('#edit-attraction-type').val())

        if($('#edit-attraction-city').val()==null){
            $('#edit-attraction-city').css('border-color','red');
            $('#city-error-message').html(`<p class="error-message">Choose a city</p>`)

        }else{
            $('#edit-attraction-city').css('border-color','');
            $('#city-error-message').html(``)
        }
        
        if($('#edit-attraction-type').val()==null){
            $('#edit-attraction-type').css('border-color','red');
            $('#type-error-message').html(`<p class="error-message">Choose a type</p>`)
        }else{
            $('#edit-attraction-type').css('border-color','');
            $('#type-error-message').html(``)
        }

        if($('#edit-attraction-name').val()==null || $('#edit-attraction-name').val()===''){
            $('#edit-attraction-name').css('border-color','red');
            $('#name-error-message').html(`<p class="error-message">Input a name</p>`)
        }else{
            $('#edit-attraction-name').css('border-color','');
            $('#name-error-message').html(``)
        }
        
        if($('#edit-attraction-name').val()!=null && $('#edit-attraction-type').val()!=null &&  $('#edit-attraction-name').val()!=null || $('#edit-attraction-name').val()!=''){
           
           //console.log("333",$('#edit-attraction-type').val())
            axios({
                method: 'post',
                url: `/add/attraction`,
                data: { cityid: $('#edit-attraction-city').val(), name:$('#edit-attraction-name').val() ,type:$('#edit-attraction-type').val(), latitude: 1.0, longitude: 1.0, image:null , description:$('#edit-attraction-description').val(), userid:userId}
                })
                .then(function(){
                    console.log('submited');
                    
                })
        }

    
    }

</script>